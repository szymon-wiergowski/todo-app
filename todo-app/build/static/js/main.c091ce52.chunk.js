(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{194:function(e,t,a){e.exports=a(340)},199:function(e,t,a){},340:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(51),o=a.n(l),r=(a(199),a(33)),i=a(22),u=a(164),m=a(18),s=a(357),d=a(354),E=a(351),h=a(182),f=a(358),p=a(353),b=a(341),g=a(42),v=a(349),j=function(e){var t=e.id,a=e.done,n=e.onCheck;return c.a.createElement(v.a,{label:"done",toggle:!0,style:{margin:"15px"},checked:a,onClick:function(){return function(e,t){var a={done:!t};fetch("".concat(D,"/todo/").concat(e,".json"),{method:"PATCH",body:JSON.stringify(a)}).then((function(){n()}))}(t,a)}})},O=function(e){var t=e.item,a=e.id,n=e.onEdit,l=e.onDelete,o=e.onCheck;return c.a.createElement("div",{key:t.id},c.a.createElement(p.a.Item,null,c.a.createElement(p.a.Content,null,t.task)),c.a.createElement(b.a,{size:"small",icon:!0,color:"red",attached:"left",onClick:function(){return e=t.id,void fetch("".concat(D,"/todo/").concat(e,".json"),{method:"DELETE"}).then((function(){l()}));var e}},c.a.createElement(g.a,{name:"close"})),c.a.createElement(b.a,{size:"small",icon:!0,primary:!0,attached:"right",onClick:function(){n(a)}},c.a.createElement(g.a,{name:"edit"})),c.a.createElement(j,{done:e.item.done,onCheck:o,id:e.item.id,item:e.item.task}),c.a.createElement("hr",null))},k=a(352),C=a(350),S=a(355),y=function(e){var t=e.item,a=Object(n.useState)(t.task),l=Object(m.a)(a,2),o=l[0],r=l[1],i=Object(n.useState)(!1),u=Object(m.a)(i,2),s=u[0],d=u[1],E=Object(n.useState)(!1),h=Object(m.a)(E,2)[1];return c.a.createElement("div",{key:t.id},c.a.createElement(p.a.Item,null,c.a.createElement(k.a.Field,null,c.a.createElement(C.a,{fluid:!0,size:"small",type:"text",value:o,name:"task",onChange:function(e){r(e.target.value)}}),s?c.a.createElement(S.a,{negative:!0},c.a.createElement(S.a.Header,null,"Incorrect input"),c.a.createElement("p",null,"The task should be between 5 and 35 characters")):null)),c.a.createElement(b.a,{size:"small",attached:"left",positive:!0,icon:!0,onClick:function(a){a.preventDefault();var n=!1,c=o.length;if(c<5||c>35?(d(!0),n=!0):d(!1),n)h(!0);else{h(!1);var l={task:o};fetch("".concat(D,"/todo/").concat(t.id,".json"),{method:"PATCH",body:JSON.stringify(l)}).then((function(){e.onSave()}))}},disabled:!t.task},c.a.createElement(g.a,{name:"save"})),c.a.createElement(b.a,{size:"small",attached:"right",icon:!0,onClick:function(){e.onClose()}},c.a.createElement(g.a,{name:"close"})),c.a.createElement(j,{done:t.done,id:t.id,item:t.task}),c.a.createElement("hr",null))},w=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),l=a[0],o=a[1],r=function(e){o(e)},i=function(){o(null)},u=function(){e.onSave(),o(null)},d=e.todo,E=e.onDelete,h=e.onCheck;return c.a.createElement(s.a,null,c.a.createElement(p.a,{divided:!0,relaxed:!0,size:"large"},d.map((function(e){return l===e.id?c.a.createElement(y,{key:e.id,todo:d,done:e.done,id:e.id,item:e,onClose:i,onSave:u,onDelete:E,onCheck:h,onEdit:r}):c.a.createElement(O,{key:e.id,todo:d,done:e.done,id:e.id,item:e,onDelete:E,onCheck:h,onEdit:r})}))))},A=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(""),i=Object(m.a)(r,2),u=i[0],s=i[1],d=Object(n.useState)(!1),E=Object(m.a)(d,2),h=E[0],f=E[1],p=Object(n.useState)(!1),v=Object(m.a)(p,2)[1];return c.a.createElement(k.a,{size:"large"},c.a.createElement("h3",null,"Add task"),c.a.createElement(k.a.Field,null,c.a.createElement(C.a,{type:"text",value:l,onChange:function(e){o(e.target.value),s(Date.now())},placeholder:"New task"}),h?c.a.createElement(S.a,{negative:!0},c.a.createElement(S.a.Header,null,"Incorrect input"),c.a.createElement("p",null,"The task should be between 5 and 35 characters")):null),c.a.createElement(b.a,{size:"small",type:"submit",icon:!0,color:"green",onClick:function(t){t.preventDefault();var a=!1,n=l.length;if(n<5||n>35?(f(!0),a=!0):f(!1),a)v(!0);else{v(!1);var c={task:l,done:!1,dateOfCreateTask:u};fetch("".concat(D,"/todo.json"),{method:"POST",body:JSON.stringify(c)}).then((function(){e.onAdd(),o(""),s("")})).catch((function(e){alert(e.message)}))}},disabled:!l},c.a.createElement(g.a,{name:"add"})))},I=a(32),z=a.n(I),x=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(null),i=Object(m.a)(r,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){return function(){var e=z.a.auth().onAuthStateChanged((function(e){o(e)}));s(e),u&&u()}})),l?e.children:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h1",null,"Please sign in")))},D="https://rest-api-jfdz12-sw.firebaseio.com",P=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!0),r=Object(m.a)(o,2),i=r[0],p=r[1],b=Object(n.useState)(null),g=Object(m.a)(b,2),v=g[0],j=g[1],O=function(){fetch("".concat(D,"/todo.json")).then((function(e){return e.json()})).then((function(e){var t=Object.keys(e).map((function(t){return Object(u.a)({id:t},e[t])}));p(!1),l(t.sort((function(e,t){return t.dateOfCreateTask-e.dateOfCreateTask})))})).catch((function(e){return j(e)}))};Object(n.useEffect)((function(){O()}),[]);var k=function(){O()};return v?c.a.createElement("div",null,"Error: ",v):i?c.a.createElement(s.a,null,c.a.createElement(d.a,{active:!0},c.a.createElement(E.a,{size:"medium"},"Loading")),c.a.createElement(h.a,{src:"/images/wireframe/short-paragraph.png"})):c.a.createElement(x,null,c.a.createElement(f.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},c.a.createElement(s.a,{style:{width:650}},c.a.createElement(A,{onAdd:k}),c.a.createElement(w,{todo:a,onDelete:k,onSave:k,onCheck:k}))))},T=a(359),W=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),d=u[0],E=u[1],h=Object(n.useState)(!1),p=Object(m.a)(h,2),g=p[0],v=p[1],j=function(e){var t=e.target,a=t.name,n=t.value;"email"===a&&l(n),"password"===a&&E(n)},O=function(){z.a.auth().signInWithEmailAndPassword(a,d).then((function(){v(!0)}))};return g?c.a.createElement(i.a,{to:"/"}):c.a.createElement(f.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},c.a.createElement(f.a.Column,{style:{maxWidth:450}},c.a.createElement(T.a,{as:"h2",color:"blue",textAlign:"center"},"Log-in to your account"),c.a.createElement(k.a,{size:"large"},c.a.createElement(s.a,{stacked:!0},c.a.createElement(k.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",autoComplete:"email",value:a,name:"email",onChange:j}),c.a.createElement(k.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",autoComplete:"current-password",type:"password",value:d,name:"password",onChange:j}),c.a.createElement(b.a,{color:"blue",fluid:!0,size:"large",onClick:function(e){e.preventDefault(),O()}},"Login"))),c.a.createElement(S.a,null,"New to us? ",c.a.createElement(r.b,{to:"/sign-up"},"Sign Up"))))},L=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),d=u[0],E=u[1],h=Object(n.useState)(!1),p=Object(m.a)(h,2),g=p[0],v=p[1],j=function(e){var t=e.target,a=t.name,n=t.value;"email"===a&&l(n),"password"===a&&E(n)},O=function(){z.a.auth().createUserWithEmailAndPassword(a,d).then((function(){v(!0)}))};return g?c.a.createElement(i.a,{to:"/"}):c.a.createElement(f.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},c.a.createElement(f.a.Column,{style:{maxWidth:450}},c.a.createElement(T.a,{as:"h2",color:"blue",textAlign:"center"},"Welcome"),c.a.createElement(k.a,{size:"large"},c.a.createElement(s.a,{stacked:!0},c.a.createElement(k.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",autoComplete:"username",value:a,name:"email",onChange:j}),c.a.createElement(k.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",autoComplete:"current-password",type:"password",value:d,name:"password",onChange:j}),c.a.createElement(b.a,{color:"blue",fluid:!0,size:"large",onClick:function(e){e.preventDefault(),O()}},"Register"))),c.a.createElement(S.a,null,"Already register? ",c.a.createElement(r.b,{to:"/sign-in"},"Sign In"))))},H=function(){return c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/"},c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h1",null,"Welcome in simple ToDo app :)"))),c.a.createElement(i.b,{path:"/todo",component:P}),c.a.createElement(i.b,{path:"/sign-in",component:W}),c.a.createElement(i.b,{path:"/sign-up",component:L}),")} />")},J=a(356),N={apiKey:"AIzaSyAdyvU2jhoxIzKcIMmIfHXtK5atQidL6TY",authDomain:"rest-api-jfdz12-sw.firebaseapp.com",databaseURL:"https://rest-api-jfdz12-sw.firebaseio.com",projectId:"rest-api-jfdz12-sw",storageBucket:"rest-api-jfdz12-sw.appspot.com",messagingSenderId:"736124371432",appId:"1:736124371432:web:8bcca6fa7828abd169645d",measurementId:"G-25XJLCNXRE"};z.a.initializeApp(N);var F=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){z.a.auth().onAuthStateChanged((function(e){l(e)}))})),c.a.createElement(J.a,{inverted:!0},c.a.createElement(r.b,{to:"/"},c.a.createElement(J.a.Item,{name:"home"},"Home")),c.a.createElement(r.b,{to:"/todo"},c.a.createElement(J.a.Item,{name:"todo"},"ToDo App")),c.a.createElement(J.a.Menu,{position:"right"},a?c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{inverted:!0,onClick:function(){z.a.auth().signOut()}},"Sign out")):c.a.createElement(r.b,{to:"/sign-in"},c.a.createElement(J.a.Item,{name:"Sign in"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement((function(){return c.a.createElement(r.a,null,c.a.createElement(F,null),c.a.createElement(H,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[194,1,2]]]);
//# sourceMappingURL=main.c091ce52.chunk.js.map