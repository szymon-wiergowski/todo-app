{"ast":null,"code":"var _jsxFileName = \"/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/AddTask.js\";\nimport React from \"react\";\nimport { Button, Form, Message } from \"semantic-ui-react\";\nimport { BASE_URL } from \"./ToDo\";\nconst initialFormState = {\n  done: false,\n  task: \"\",\n  taskError: false\n};\nexport default class AddTask extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialFormState\n    };\n\n    this.handleOnChange = event => {\n      this.setState({\n        task: event.target.value\n      });\n    };\n\n    this.handleOnClick = event => {\n      event.preventDefault();\n      let error = false;\n\n      if (this.state.task !== \"string\") {\n        this.setState({\n          taskError: true\n        });\n        error = true;\n      } else {\n        this.setState({\n          taskError: false\n        });\n      }\n\n      if (this.state.task.length < 5) {\n        this.setState({\n          taskError: true\n        });\n        error = true;\n      } else {\n        this.setState({\n          taskError: false\n        });\n      }\n\n      if (error) {\n        this.setState({\n          formError: true\n        });\n        return;\n      }\n\n      this.setState({\n        formError: false\n      });\n      const formattedFormData = { ...this.state\n      };\n      fetch(`${BASE_URL}/todo.json`, {\n        method: \"POST\",\n        body: JSON.stringify(formattedFormData)\n      }).then(() => {\n        this.props.onAdd();\n        this.setState(initialFormState);\n      }).catch(err => {\n        alert(err.message);\n      });\n    };\n  }\n\n  render() {\n    const {\n      task,\n      taskError,\n      formError\n    } = this.state;\n    return React.createElement(Form, {\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Add task\"), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: task,\n      onChange: this.handleOnChange,\n      placeholder: \"Task\",\n      error: taskError ? taskError : undefined,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"submit\",\n      color: \"green\",\n      onClick: this.handleOnClick,\n      disabled: !task,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Add\"), taskError ? React.createElement(Message, {\n      error: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Message.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Wprowadzono b\\u0142\\u0119dne dane\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Task powinien zawiera\\u0107 co najmniej 5 snak\\xF3w\")) : undefined);\n  }\n\n}","map":{"version":3,"sources":["/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/AddTask.js"],"names":["React","Button","Form","Message","BASE_URL","initialFormState","done","task","taskError","AddTask","Component","state","handleOnChange","event","setState","target","value","handleOnClick","preventDefault","error","length","formError","formattedFormData","fetch","method","body","JSON","stringify","then","props","onAdd","catch","err","alert","message","render","undefined"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { Button, Form, Message } from \"semantic-ui-react\";\n\nimport { BASE_URL } from \"./ToDo\";\n\nconst initialFormState = {\n  done: false,\n  task: \"\",\n  taskError: false,\n};\n\nexport default class AddTask extends React.Component {\n  state = {\n    ...initialFormState\n  };\n\n  handleOnChange = event => {\n    this.setState({\n      task: event.target.value\n    });\n  };\n\n  handleOnClick = event => {\n    event.preventDefault();\n\n    let error = false;\n\n    if (this.state.task !== \"string\") {\n      this.setState({ taskError: true });\n      error = true;\n    } else {\n      this.setState({ taskError: false });\n    }\n\n    if (this.state.task.length < 5) {\n      this.setState({ taskError: true });\n      error = true;\n    } else {\n      this.setState({ taskError: false });\n    }\n\n    if (error) {\n      this.setState({ formError: true });\n      return;\n    }\n\n    this.setState({ formError: false });\n\n    const formattedFormData = {\n      ...this.state\n    };\n\n    fetch(`${BASE_URL}/todo.json`, {\n      method: \"POST\",\n      body: JSON.stringify(formattedFormData)\n    })\n      .then(() => {\n        this.props.onAdd();\n        this.setState(initialFormState);\n      })\n      .catch(err => {\n        alert(err.message);\n      });\n  };\n\n  render() {\n    const { task, taskError, formError } = this.state;\n\n    return (\n      <Form size=\"large\">\n        <h3>Add task</h3>\n        <Form.Field>\n          <input\n            value={task}\n            onChange={this.handleOnChange}\n            placeholder=\"Task\"\n            error={taskError ? taskError : undefined}\n          />\n        </Form.Field>\n        <Button\n          type=\"submit\"\n          color=\"green\"\n          onClick={this.handleOnClick}\n          disabled={!task}\n        >\n          Add\n        </Button>\n        {taskError ? (\n          <Message error>\n            <Message.Header>Wprowadzono błędne dane</Message.Header>\n            <p>Task powinien zawierać co najmniej 5 snaków</p>\n          </Message>\n        ) : (\n          undefined\n        )}\n      </Form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}