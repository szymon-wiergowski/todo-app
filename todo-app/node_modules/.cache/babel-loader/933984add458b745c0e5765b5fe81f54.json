{"ast":null,"code":"var _jsxFileName = \"/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/ToDo.js\";\nimport React from \"react\";\nimport \"../App.css\";\nimport { Segment, Dimmer, Loader, Image } from \"semantic-ui-react\";\nimport ToDoBoard from \"./ToDoBoard\";\nimport AddTask from \"./AddTask\";\nexport const BASE_URL = \"https://rest-api-jfdz12-sw.firebaseio.com\";\nexport default class ToDo extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todo: [],\n      loading: true,\n      error: null\n    };\n\n    this.fetchToDo = () => {\n      fetch(`${BASE_URL}/todo.json`).then(res => res.json()).then(data => {\n        const keys = Object.keys(data);\n        const formattedData = keys.map(key => {\n          return {\n            id: key,\n            ...data[key]\n          };\n        });\n        this.setState({\n          loading: false,\n          todo: formattedData.sort(function (a, b) {\n            return b.dateOfCreateTask - a.dateOfCreateTask;\n          })\n        });\n      }).catch(err => this.setState({\n        error: err\n      }));\n    };\n\n    this.handleOnAction = () => {\n      this.fetchToDo();\n    };\n  }\n\n  componentDidMount() {\n    this.fetchToDo();\n  }\n\n  render() {\n    const {\n      todo,\n      error,\n      loading\n    } = this.state;\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Error: \", error);\n    }\n\n    if (loading) {\n      return React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        active: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        size: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Loading\")), React.createElement(Image, {\n        src: \"/images/wireframe/short-paragraph.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(Segment, {\n      style: {\n        position: \"relative\",\n        top: \"-50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        width: 650\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(AddTask, {\n      onAdd: this.handleOnAction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(ToDoBoard, {\n      todo: todo,\n      onDelete: this.handleOnAction,\n      onSave: this.handleOnAction,\n      onCheck: this.handleOnAction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/ToDo.js"],"names":["React","Segment","Dimmer","Loader","Image","ToDoBoard","AddTask","BASE_URL","ToDo","Component","state","todo","loading","error","fetchToDo","fetch","then","res","json","data","keys","Object","formattedData","map","key","id","setState","sort","a","b","dateOfCreateTask","catch","err","handleOnAction","componentDidMount","render","position","top","left","transform","width"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\n\nimport { Segment, Dimmer, Loader, Image } from \"semantic-ui-react\";\n\nimport ToDoBoard from \"./ToDoBoard\";\nimport AddTask from \"./AddTask\";\n\nexport const BASE_URL = \"https://rest-api-jfdz12-sw.firebaseio.com\";\n\nexport default class ToDo extends React.Component {\n  state = {\n    todo: [],\n    loading: true,\n    error: null\n  };\n\n  fetchToDo = () => {\n    fetch(`${BASE_URL}/todo.json`)\n      .then(res => res.json())\n      .then(data => {\n        const keys = Object.keys(data);\n        const formattedData = keys.map(key => {\n          return {\n            id: key,\n            ...data[key]\n          };\n        });\n        this.setState({\n          loading: false,\n          todo: formattedData.sort(function(a, b) {\n            return b.dateOfCreateTask - a.dateOfCreateTask;\n          })\n        });\n      })\n      .catch(err =>\n        this.setState({\n          error: err\n        })\n      );\n  };\n\n  componentDidMount() {\n    this.fetchToDo();\n  }\n\n  handleOnAction = () => {\n    this.fetchToDo();\n  };\n\n  render() {\n    const { todo, error, loading } = this.state;\n\n    if (error) {\n      return <div>Error: {error}</div>;\n    }\n\n    if (loading) {\n      return (\n        <Segment>\n          <Dimmer active>\n            <Loader size=\"medium\">Loading</Loader>\n          </Dimmer>\n          <Image src=\"/images/wireframe/short-paragraph.png\" />\n        </Segment>\n      );\n    }\n    return (\n      <Segment\n        style={{\n          position: \"relative\",\n          top: \"-50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          width: 650\n        }}\n      >\n        <AddTask onAdd={this.handleOnAction} />\n        <ToDoBoard\n          todo={todo}\n          onDelete={this.handleOnAction}\n          onSave={this.handleOnAction}\n          onCheck={this.handleOnAction}\n        />\n      </Segment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}