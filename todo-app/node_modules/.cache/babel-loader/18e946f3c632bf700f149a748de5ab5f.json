{"ast":null,"code":"var _jsxFileName = \"/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/AddTask.js\";\nimport React from \"react\";\nimport { Button, Form, Message, Icon, Input } from \"semantic-ui-react\";\nimport { BASE_URL } from \"./ToDo\";\nconst initialFormState = {\n  done: false,\n  task: \"\",\n  dateOfCreateTask: \"\",\n  taskError: false,\n  formError: false\n};\nexport default class AddTask extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialFormState\n    };\n\n    this.handleOnChange = event => {\n      this.setState({\n        task: event.target.value,\n        dateOfCreateTask: Date.now()\n      });\n    };\n\n    this.handleOnClick = event => {\n      event.preventDefault();\n      let error = false;\n      const taskLength = this.state.task.length;\n\n      if (taskLength < 5 || taskLength > 35) {\n        this.setState({\n          taskError: true\n        });\n        error = true;\n      } else {\n        this.setState({\n          taskError: false\n        });\n      }\n\n      if (error) {\n        this.setState({\n          formError: true\n        });\n        return;\n      }\n\n      this.setState({\n        formError: false\n      });\n      const formattedFormData = { ...this.state,\n        taskError: null,\n        formError: null\n      };\n      fetch(`${BASE_URL}/todo.json`, {\n        method: \"POST\",\n        body: JSON.stringify(formattedFormData)\n      }).then(() => {\n        this.props.onAdd();\n        this.setState(initialFormState);\n      }).catch(err => {\n        alert(err.message);\n      });\n    };\n  }\n\n  render() {\n    const {\n      task,\n      taskError\n    } = this.state;\n    return React.createElement(Form, {\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Add task\"), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      value: task,\n      onChange: this.handleOnChange,\n      placeholder: \"New task\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), taskError ? React.createElement(Message, {\n      negative: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Message.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Incorrect input\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"The task should be between 5 and 35 characters\")) : null), React.createElement(Button, {\n      size: \"small\",\n      type: \"submit\",\n      icon: true,\n      color: \"green\",\n      onClick: this.handleOnClick,\n      disabled: !task,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/AddTask.js"],"names":["React","Button","Form","Message","Icon","Input","BASE_URL","initialFormState","done","task","dateOfCreateTask","taskError","formError","AddTask","Component","state","handleOnChange","event","setState","target","value","Date","now","handleOnClick","preventDefault","error","taskLength","length","formattedFormData","fetch","method","body","JSON","stringify","then","props","onAdd","catch","err","alert","message","render"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { Button, Form, Message, Icon, Input } from \"semantic-ui-react\";\n\nimport { BASE_URL } from \"./ToDo\";\n\nconst initialFormState = {\n  done: false,\n  task: \"\",\n  dateOfCreateTask: \"\",\n  taskError: false,\n  formError: false\n};\n\nexport default class AddTask extends React.Component {\n  state = {\n    ...initialFormState\n  };\n\n  handleOnChange = event => {\n    this.setState({\n      task: event.target.value,\n      dateOfCreateTask: Date.now()\n    });\n  };\n\n  handleOnClick = event => {\n    event.preventDefault();\n\n    let error = false;\n\n    const taskLength = this.state.task.length;\n\n    if (taskLength < 5 || taskLength > 35) {\n      this.setState({ taskError: true });\n      error = true;\n    } else {\n      this.setState({ taskError: false });\n    }\n\n    if (error) {\n      this.setState({ formError: true });\n      return;\n    }\n\n    this.setState({ formError: false });\n\n    const formattedFormData = {\n      ...this.state,\n      taskError: null,\n      formError: null\n    };\n\n    fetch(`${BASE_URL}/todo.json`, {\n      method: \"POST\",\n      body: JSON.stringify(formattedFormData)\n    })\n      .then(() => {\n        this.props.onAdd();\n        this.setState(initialFormState);\n      })\n      .catch(err => {\n        alert(err.message);\n      });\n  };\n\n  render() {\n    const { task, taskError } = this.state;\n\n    return (\n      <Form size=\"large\">\n        <h3>Add task</h3>\n        <Form.Field>\n          <Input\n            type=\"text\"\n            value={task}\n            onChange={this.handleOnChange}\n            placeholder=\"New task\"\n          />\n\n          {taskError ? (\n            <Message negative>\n              <Message.Header>Incorrect input</Message.Header>\n              <p>The task should be between 5 and 35 characters</p>\n            </Message>\n          ) : null}\n        </Form.Field>\n        <Button\n          size=\"small\"\n          type=\"submit\"\n          icon\n          color=\"green\"\n          onClick={this.handleOnClick}\n          disabled={!task}\n        >\n          <Icon name=\"add\" />\n        </Button>\n      </Form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}