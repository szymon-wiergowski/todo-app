{"ast":null,"code":"var _jsxFileName = \"/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/AddTask.js\";\nimport React from \"react\";\nimport { Button, Form, Message } from \"semantic-ui-react\";\nimport { BASE_URL } from \"./ToDo\";\nconst initialFormState = {\n  done: false,\n  task: \"\",\n  taskError: false,\n  formError: false\n};\nexport default class AddTask extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialFormState\n    };\n\n    this.handleOnChange = event => {\n      this.setState({\n        task: event.target.value\n      });\n    };\n\n    this.handleOnClick = event => {\n      event.preventDefault();\n      let error = false;\n\n      if (this.state.task === \"\") {\n        this.setState({\n          taskError: true\n        });\n        error = true;\n      } else {\n        this.setState({\n          taskError: false\n        });\n      }\n\n      if (this.state.task.length < 5) {\n        this.setState({\n          taskError: true\n        });\n        error = true;\n      } else {\n        this.setState({\n          taskError: false\n        });\n      }\n\n      if (error) {\n        this.setState({\n          formError: true\n        });\n        return;\n      }\n\n      this.setState({\n        formError: false\n      });\n      const formattedFormData = { ...this.state\n      };\n      fetch(`${BASE_URL}/todo.json`, {\n        method: \"POST\",\n        body: JSON.stringify(formattedFormData)\n      }).then(() => {\n        this.props.onAdd();\n        this.setState(initialFormState);\n      }).catch(err => {\n        alert(err.message);\n      });\n    };\n  }\n\n  render() {\n    const {\n      task,\n      taskError,\n      formError\n    } = this.state;\n    return React.createElement(Form, {\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Add task\"), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: task,\n      onChange: this.handleOnChange,\n      placeholder: \"Task\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), taskError || formError ? React.createElement(Message, {\n      negative: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Message.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Incorrect input\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"The task should have at least 5 characters\")) : null), React.createElement(Button, {\n      type: \"submit\",\n      color: \"green\",\n      onClick: this.handleOnClick,\n      disabled: !task,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Add\"));\n  }\n\n}","map":{"version":3,"sources":["/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/AddTask.js"],"names":["React","Button","Form","Message","BASE_URL","initialFormState","done","task","taskError","formError","AddTask","Component","state","handleOnChange","event","setState","target","value","handleOnClick","preventDefault","error","length","formattedFormData","fetch","method","body","JSON","stringify","then","props","onAdd","catch","err","alert","message","render"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { Button, Form, Message } from \"semantic-ui-react\";\n\nimport { BASE_URL } from \"./ToDo\";\n\nconst initialFormState = {\n  done: false,\n  task: \"\",\n  taskError: false,\n  formError: false\n};\n\nexport default class AddTask extends React.Component {\n  state = {\n    ...initialFormState\n  };\n\n  handleOnChange = event => {\n    this.setState({\n      task: event.target.value\n    });\n  };\n\n  handleOnClick = event => {\n    event.preventDefault();\n\n    let error = false;\n\n    if (this.state.task === \"\") {\n      this.setState({ taskError: true });\n      error = true;\n    } else {\n      this.setState({ taskError: false });\n    }\n\n    if (this.state.task.length < 5) {\n      this.setState({ taskError: true });\n      error = true;\n    } else {\n      this.setState({ taskError: false });\n    }\n\n    if (error) {\n      this.setState({ formError: true });\n      return;\n    }\n\n    this.setState({ formError: false });\n\n    const formattedFormData = {\n      ...this.state\n    };\n\n    fetch(`${BASE_URL}/todo.json`, {\n      method: \"POST\",\n      body: JSON.stringify(formattedFormData)\n    })\n      .then(() => {\n        this.props.onAdd();\n        this.setState(initialFormState);\n      })\n      .catch(err => {\n        alert(err.message);\n      });\n  };\n\n  render() {\n    const { task, taskError, formError } = this.state;\n\n    return (\n      <Form size=\"large\">\n        <h3>Add task</h3>\n        <Form.Field>\n          <input\n            value={task}\n            onChange={this.handleOnChange}\n            placeholder=\"Task\"\n          />\n          {taskError || formError ? (\n            <Message negative>\n              <Message.Header>\n                Incorrect input\n              </Message.Header>\n              <p>The task should have at least 5 characters</p>\n            </Message>\n          ) : null}\n        </Form.Field>\n        <Button\n          type=\"submit\"\n          color=\"green\"\n          onClick={this.handleOnClick}\n          disabled={!task}\n        >\n          Add\n        </Button>\n      </Form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}