{"ast":null,"code":"var _jsxFileName = \"/home/szymon/Desktop/ToDo-App/todo-app/src/components/ToDo.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { Segment, Dimmer, Loader, Image, Grid } from \"semantic-ui-react\";\nimport ToDoBoard from \"./ToDoBoard\";\nimport AddTask from \"./AddTask\";\nimport Auth from \"./Auth\";\nimport AuthContext from \"../contexts/AuthContext\";\nexport const BASE_URL = \"https://rest-api-jfdz12-sw.firebaseio.com\";\n\nconst ToDo = () => {\n  const [todo, setTodo] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchToDo = () => {\n    fetch(`${BASE_URL}/todo.json`).then(res => res.json()).then(data => {\n      const keys = Object.keys(data);\n      const formattedData = keys.map(key => {\n        return {\n          id: key,\n          ...data[key]\n        };\n      });\n      setLoading(false);\n      setTodo(formattedData.sort(function (a, b) {\n        return b.dateOfCreateTask - a.dateOfCreateTask;\n      }));\n    }).catch(err => setError(err));\n  };\n\n  useEffect(() => {\n    fetchToDo();\n  }, []);\n\n  const handleOnAction = () => {\n    fetchToDo();\n  };\n\n  if (error) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Error: \", error);\n  }\n\n  if (loading) {\n    return React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Dimmer, {\n      active: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Loader, {\n      size: \"massive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Loading\")), React.createElement(Image, {\n      src: \"/images/wireframe/short-paragraph.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Image, {\n      src: \"/images/wireframe/short-paragraph.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Image, {\n      src: \"/images/wireframe/short-paragraph.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(Image, {\n      src: \"/images/wireframe/short-paragraph.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Image, {\n      src: \"/images/wireframe/short-paragraph.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Image, {\n      src: \"/images/wireframe/short-paragraph.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }));\n  }\n\n  const context = useContext(AuthContext);\n\n  const getAuthorised = () => {\n    switch (context.currentUser) {\n      case user:\n        {\n          return React.createElement(Grid, {\n            textAlign: \"center\",\n            style: {\n              height: \"100vh\"\n            },\n            verticalAlign: \"middle\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }, React.createElement(Segment, {\n            style: {\n              width: 650\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }, React.createElement(AddTask, {\n            onAdd: handleOnAction,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }), React.createElement(ToDoBoard, {\n            todo: todo,\n            onDelete: handleOnAction,\n            onSave: handleOnAction,\n            onCheck: handleOnAction,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          })));\n        }\n\n      case !user:\n        {\n          return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n            style: {\n              textAlign: \"center\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, \"Please sign in\")));\n        }\n    }\n  };\n\n  return {\n    getAuthorised\n  };\n};\n\nexport default ToDo;","map":{"version":3,"sources":["/home/szymon/Desktop/ToDo-App/todo-app/src/components/ToDo.js"],"names":["React","useEffect","useState","useContext","Segment","Dimmer","Loader","Image","Grid","ToDoBoard","AddTask","Auth","AuthContext","BASE_URL","ToDo","todo","setTodo","loading","setLoading","error","setError","fetchToDo","fetch","then","res","json","data","keys","Object","formattedData","map","key","id","sort","a","b","dateOfCreateTask","catch","err","handleOnAction","context","getAuthorised","currentUser","user","height","width","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\n\nimport { Segment, Dimmer, Loader, Image, Grid } from \"semantic-ui-react\";\n\nimport ToDoBoard from \"./ToDoBoard\";\nimport AddTask from \"./AddTask\";\nimport Auth from \"./Auth\";\nimport AuthContext from \"../contexts/AuthContext\";\n\nexport const BASE_URL = \"https://rest-api-jfdz12-sw.firebaseio.com\";\n\nconst ToDo = () => {\n  const [todo, setTodo] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchToDo = () => {\n    fetch(`${BASE_URL}/todo.json`)\n      .then(res => res.json())\n      .then(data => {\n        const keys = Object.keys(data);\n        const formattedData = keys.map(key => {\n          return {\n            id: key,\n            ...data[key]\n          };\n        });\n        setLoading(false);\n        setTodo(\n          formattedData.sort(function(a, b) {\n            return b.dateOfCreateTask - a.dateOfCreateTask;\n          })\n        );\n      })\n      .catch(err => setError(err));\n  };\n\n  useEffect(() => {\n    fetchToDo();\n  }, []);\n\n  const handleOnAction = () => {\n    fetchToDo();\n  };\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  if (loading) {\n    return (\n      <Segment>\n        <Dimmer active>\n          <Loader size=\"massive\">Loading</Loader>\n        </Dimmer>\n        <Image src=\"/images/wireframe/short-paragraph.png\" />\n        <Image src=\"/images/wireframe/short-paragraph.png\" />\n        <Image src=\"/images/wireframe/short-paragraph.png\" />\n        <Image src=\"/images/wireframe/short-paragraph.png\" />\n        <Image src=\"/images/wireframe/short-paragraph.png\" />\n        <Image src=\"/images/wireframe/short-paragraph.png\" />\n      </Segment>\n    );\n  }\n\n  const context = useContext(AuthContext);\n\n  const getAuthorised = () => {\n    switch (context.currentUser) {\n      case user: {\n        return (\n          <Grid\n            textAlign=\"center\"\n            style={{ height: \"100vh\" }}\n            verticalAlign=\"middle\"\n          >\n            <Segment\n              style={{\n                width: 650\n              }}\n            >\n              <AddTask onAdd={handleOnAction} />\n              <ToDoBoard\n                todo={todo}\n                onDelete={handleOnAction}\n                onSave={handleOnAction}\n                onCheck={handleOnAction}\n              />\n            </Segment>\n          </Grid>\n        );\n      }\n      case !user: {\n        return (\n          <>\n            <div style={{ textAlign: \"center\" }}>\n              <h1>Please sign in</h1>\n            </div>\n          </>\n        );\n      }\n    }\n  };\n\n  return ({getAuthorised}\n  );\n};\n\nexport default ToDo;\n"]},"metadata":{},"sourceType":"module"}