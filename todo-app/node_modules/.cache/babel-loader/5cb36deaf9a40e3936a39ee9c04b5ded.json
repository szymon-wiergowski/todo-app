{"ast":null,"code":"var _jsxFileName = \"/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/AddTask.js\";\nimport React from \"react\";\nimport { Button, Form, Message, Icon } from \"semantic-ui-react\";\nimport { BASE_URL } from \"./ToDo\";\nconst initialFormState = {\n  done: false,\n  task: \"\",\n  taskError: false,\n  formError: false\n};\nexport default class AddTask extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialFormState\n    };\n\n    this.handleOnChange = event => {\n      this.setState({\n        task: event.target.value\n      });\n    };\n\n    this.handleOnClick = event => {\n      event.preventDefault();\n      let error = false;\n      const taskLength = this.state.task.length;\n\n      if (taskLength < 5 || taskLength > 25) {\n        this.setState({\n          taskError: true\n        });\n        error = true;\n      } else {\n        this.setState({\n          taskError: false\n        });\n      }\n\n      if (error) {\n        this.setState({\n          formError: true\n        });\n        return;\n      }\n\n      this.setState({\n        formError: false\n      });\n      const formattedFormData = { ...this.state,\n        taskError: null,\n        formError: null\n      };\n      fetch(`${BASE_URL}/todo.json`, {\n        method: \"POST\",\n        body: JSON.stringify(formattedFormData)\n      }).then(() => {\n        this.props.onAdd();\n        this.setState(initialFormState);\n      }).catch(err => {\n        alert(err.message);\n      });\n    };\n  }\n\n  render() {\n    const {\n      task,\n      taskError\n    } = this.state;\n    return React.createElement(Form, {\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Add task\"), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: task,\n      onChange: this.handleOnChange,\n      placeholder: \"Task\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), taskError ? React.createElement(Message, {\n      negative: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Message.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Incorrect input\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"The task should be between 5 and 25 characters\")) : null), React.createElement(Button, {\n      type: \"submit\",\n      icon: true,\n      color: \"green\",\n      onClick: this.handleOnClick,\n      disabled: !task,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/szymon/Desktop/homeworks/jfdz12-homeworks/zadanie_10/my-app/src/components/AddTask.js"],"names":["React","Button","Form","Message","Icon","BASE_URL","initialFormState","done","task","taskError","formError","AddTask","Component","state","handleOnChange","event","setState","target","value","handleOnClick","preventDefault","error","taskLength","length","formattedFormData","fetch","method","body","JSON","stringify","then","props","onAdd","catch","err","alert","message","render"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { Button, Form, Message, Icon } from \"semantic-ui-react\";\n\nimport { BASE_URL } from \"./ToDo\";\n\nconst initialFormState = {\n  done: false,\n  task: \"\",\n  taskError: false,\n  formError: false\n};\n\nexport default class AddTask extends React.Component {\n  state = {\n    ...initialFormState\n  };\n\n  handleOnChange = event => {\n    this.setState({\n      task: event.target.value\n    });\n  };\n\n  handleOnClick = event => {\n    event.preventDefault();\n\n    let error = false;\n\n    const taskLength = this.state.task.length;\n\n    if (taskLength < 5 || taskLength > 25) {\n      this.setState({ taskError: true });\n      error = true;\n    } else {\n      this.setState({ taskError: false });\n    }\n\n    if (error) {\n      this.setState({ formError: true });\n      return;\n    }\n\n    this.setState({ formError: false });\n\n    const formattedFormData = {\n      ...this.state,\n      taskError: null,\n      formError: null\n    };\n\n    fetch(`${BASE_URL}/todo.json`, {\n      method: \"POST\",\n      body: JSON.stringify(formattedFormData)\n    })\n      .then(() => {\n        this.props.onAdd();\n        this.setState(initialFormState);\n      })\n      .catch(err => {\n        alert(err.message);\n      });\n  };\n\n  render() {\n    const { task, taskError } = this.state;\n\n    return (\n      <Form size=\"large\">\n        <h3>Add task</h3>\n        <Form.Field>\n          <input\n            type=\"text\"\n            value={task}\n            onChange={this.handleOnChange}\n            placeholder=\"Task\"\n          />\n          {taskError ? (\n            <Message negative>\n              <Message.Header>Incorrect input</Message.Header>\n              <p>The task should be between 5 and 25 characters</p>\n            </Message>\n          ) : null}\n        </Form.Field>\n        <Button\n          type=\"submit\"\n          icon\n          color=\"green\"\n          onClick={this.handleOnClick}\n          disabled={!task}\n        >\n          <Icon name=\"add\" />\n        </Button>\n      </Form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}